https://bugzilla.samba.org/show_bug.cgi?id=6849

--- samba-3.4.2/source3/configure.in
+++ samba-3.4.2/source3/configure.in
@@ -31,7 +31,7 @@
 then
 	PKG_CHECK_MODULES(TALLOC, talloc >= 1.3.0, 
 		[ enable_external_libtalloc=yes ],
-		[ if x$enable_external_libtalloc = xyes; then 
+		[ if test "x$enable_external_libtalloc" = xyes; then 
 		 	AC_MSG_ERROR([Unable to find libtalloc])
 	      else 
 			enable_external_libtalloc=no
